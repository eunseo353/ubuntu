#include "word_count.h" // 단어 수 계산을 위한 함수 선언이 있는 헤더 파일 포함
#include <ctype.h> // isspace() 함수를 사용하기 위해 필요한 라이브러리 포함

// word_count 함수: 파일에서 단어 수를 계산하는 함수
int word_count(FILE *file) {
    int count = 0;       // 단어 수를 저장할 변수
    char c;              // 파일에서 읽은 한 문자를 저장할 변수
    int in_word = 0;     // 현재 문자가 단어 안에 있는지를 나타내는 플래그 (1이면 단어 안, 0이면 단어 밖)

    // 파일의 모든 문자를 읽을 때까지 반복
    while ((c = fgetc(file)) != EOF) {
        // 문자가 공백 문자인지 확인 (공백, 탭, 줄바꿈 등)
        if (isspace(c)) {
            // 만약 이전에 단어 안에 있었다면, 단어 하나가 끝난 것이므로 count를 증가시킴
            if (in_word) {
                 ㅁ // 단어 수 증가
                 ㅁ // 단어가 끝났으므로 플래그를 0으로 설정
            }
        } else {
            ㅁ // 공백이 아닌 문자가 나오면, 단어 안에 있다는 의미이므로 플래그를 1로 설정

        }
    }

    // 파일이 끝났을 때, 마지막 문자가 공백이 아니라면 마지막 단어를 카운트
    if (in_word) {
        ㅁ // 마지막 단어 수 증가
    }

    return count; // 최종 단어 수를 반환
}
